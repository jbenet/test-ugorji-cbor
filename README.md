# test-ugorji-cbor

### `TestRoundtripBasic`


The basic test (`TestRoundtripBasic`) fails to produce the **exact same output**. I am using `h.Canonical = true`, so not sure why this happens.

```
> go test
--- FAIL: TestRoundtripBasic (0.00s)
	rt_test.go:42: marshalled values not equal
	rt_test.go:43: [163 97 97 1 97 98 101 104 101 108 108 111 97 99 164 99 99 47 97 1 99 99 47 98 101 119 111 114 108 100 99 99 47 99 132 1 2 3 4 99 99 47 100 166 101 99 47 100 47 97 120 32 102 100 105 115 97 106 102 111 105 100 115 97 106 102 111 112 100 106 115 97 111 112 102 106 100 115 97 112 111 102 100 97 101 99 47 100 47 98 120 56 102 100 115 97 102 106 100 112 111 115 97 107 102 111 100 112 115 97 107 102 111 112 100 115 97 107 102 112 111 100 115 97 107 102 112 111 100 107 115 97 111 112 102 107 100 115 111 112 97 102 107 100 111 112 115 97 101 99 47 100 47 99 120 66 112 111 105 114 48 50 32 32 105 114 51 48 113 105 102 52 112 48 51 113 105 114 48 112 111 103 106 102 112 111 97 101 114 102 103 106 112 32 111 102 107 101 91 112 97 100 102 107 91 101 119 97 112 102 32 107 100 112 91 97 102 101 112 91 97 119 101 99 47 100 47 100 120 61 102 100 115 111 112 97 102 107 100 91 115 97 32 102 45 51 50 113 111 114 45 61 52 113 101 111 102 32 45 97 102 111 45 101 114 102 111 32 114 45 101 97 102 111 32 52 101 45 32 32 111 32 114 52 45 113 119 111 32 97 103 101 99 47 100 47 101 120 76 107 102 101 112 91 97 32 115 102 107 114 48 91 112 97 102 91 97 32 102 111 101 45 91 119 113 32 32 101 119 112 102 97 111 45 113 32 114 111 51 45 113 32 114 111 45 52 113 111 102 52 45 113 111 114 32 51 45 101 32 111 114 102 107 114 111 112 122 106 98 118 111 105 115 100 98 101 99 47 100 47 102 96]
	rt_test.go:44: [163 97 97 1 97 98 101 104 101 108 108 111 97 99 164 99 99 47 100 166 101 99 47 100 47 98 120 56 102 100 115 97 102 106 100 112 111 115 97 107 102 111 100 112 115 97 107 102 111 112 100 115 97 107 102 112 111 100 115 97 107 102 112 111 100 107 115 97 111 112 102 107 100 115 111 112 97 102 107 100 111 112 115 97 101 99 47 100 47 99 120 66 112 111 105 114 48 50 32 32 105 114 51 48 113 105 102 52 112 48 51 113 105 114 48 112 111 103 106 102 112 111 97 101 114 102 103 106 112 32 111 102 107 101 91 112 97 100 102 107 91 101 119 97 112 102 32 107 100 112 91 97 102 101 112 91 97 119 101 99 47 100 47 100 120 61 102 100 115 111 112 97 102 107 100 91 115 97 32 102 45 51 50 113 111 114 45 61 52 113 101 111 102 32 45 97 102 111 45 101 114 102 111 32 114 45 101 97 102 111 32 52 101 45 32 32 111 32 114 52 45 113 119 111 32 97 103 101 99 47 100 47 101 120 76 107 102 101 112 91 97 32 115 102 107 114 48 91 112 97 102 91 97 32 102 111 101 45 91 119 113 32 32 101 119 112 102 97 111 45 113 32 114 111 51 45 113 32 114 111 45 52 113 111 102 52 45 113 111 114 32 51 45 101 32 111 114 102 107 114 111 112 122 106 98 118 111 105 115 100 98 101 99 47 100 47 102 96 101 99 47 100 47 97 120 32 102 100 105 115 97 106 102 111 105 100 115 97 106 102 111 112 100 106 115 97 111 112 102 106 100 115 97 112 111 102 100 97 99 99 47 97 1 99 99 47 98 101 119 111 114 108 100 99 99 47 99 132 1 2 3 4]
FAIL
exit status 1
FAIL	_/tmp/testcanonical	0.012s
```

### `TestRoundtripCheck`

I think this should past the _harder_ test (`TestRoundtripCheck`) which is now set to be skipped. just remove the line: 

```go
	t.Skip("skipping TestRoundtripCheck")
```

to enable it.
